--- 
layout: post
name: setting-up-svn-server-y-ii
title: Setting up an SVN server (y II)
time: 2007-11-24 11:22:00 +01:00
---
<div style="text-align: justify;">En el post anterior configuramos nuestro servidor Subversion a través del servidor standalone svnserve. En esta ocasión habilitaremos nuestro servidor svn a través del protocolo WebDAV (una extensión del protocolo http). Vamos allá:<br /><br />En primer lugar necesitaremos tener instalado en nuestro sistema un servidor http. De sobra es conocido por todos que <span style="font-weight: bold;">Apache</span> es el servidor http más extendido con lo que será el que utilicemos en esta sencilla guía (concretamente utilizaremos <a href="http://apache.org/"><span style="font-weight: bold;">Apache 2</span></a>). También es necesario el módulo <span style="font-weight: bold;">mod_dav_svn.so</span>. Ejecutamos la siguiente orden en una terminal:<br /></div><pre style="border: 1px dashed rgb(153, 153, 153); padding: 5px; overflow: auto; font-family: Andale Mono,Lucida Console,Monaco,fixed,monospace; color: rgb(0, 0, 0); background-color: rgb(238, 238, 238); font-size: 12px; line-height: 14px; width: 100%;"><code>sudo apt-get install apache2 libapache2-svn<br /></code></pre><br />Tras esta sencilla orden tendremos en nuestro sistema un servidor http con el soporte necesario para habilitar nuestro servidor subversion. Configuremos ahora nuestro repositorio:<br /><br />Editamos con nuestro editor favorito el fichero<span style="font-weight: bold;"> dav_svn.conf</span> (si habeis instalado apache2 con la orden indicada anteriormente lo encontrareis en la ruta <span style="font-weight: bold;">/etc/apache2/mods-enabled/dav_svn.conf</span>)<br /><pre style="border: 1px dashed rgb(153, 153, 153); padding: 5px; overflow: auto; font-family: Andale Mono,Lucida Console,Monaco,fixed,monospace; color: rgb(0, 0, 0); background-color: rgb(238, 238, 238); font-size: 12px; line-height: 14px; width: 100%;"><code>vim /etc/apache2/mods-enabled/dav_svn.conf<br /></code></pre>Deberemos descomentar una serie de líneas para habilitar y establecer una configuración básica<br />: vayamos por partes.<br /><br />En primera instancia habilitaremos el repositorio con lo que descomentaremos las siguientes líneas:<span style="font-family:monospace;"><br /></span><pre style="border: 1px dashed rgb(153, 153, 153); padding: 5px; overflow: auto; font-family: Andale Mono,Lucida Console,Monaco,fixed,monospace; color: rgb(0, 0, 0); background-color: rgb(238, 238, 238); font-size: 12px; line-height: 14px; width: 100%;"><code># habilitamos el repositorio<br />DAV svn<br /># indicamos la ruta absoluta al mismo<br /></code><code>SVNPath ruta_absoluta_repositorio</code><br /></pre><br /><div>Configuremos ahora el control de acceso. Dicho control es realizado a tres niveles diferentes:<br /><ol><li>Autenticación facilitada por Apache.</li><li>Directivas "limit" y "limitexcept".</li><li>El módulo mod_authz_svn.</li></ol>En este mini-tutorial  habilitaremos una autenticación básica. Soy consciente de que no es demasiado seguro a no ser que se utilice a través de https pero no quiero complicar demasiado esta entrega; en futuras versiones configuraremos los distintos niveles de acceso.<br /><br />Para llevar a cabo nuestra tarea necesitaremos descomentar las siguientes líneas en el fichero dav_svn.conf:<br /><pre style="border: 1px dashed rgb(153, 153, 153); padding: 5px; overflow: auto; font-family: Andale Mono,Lucida Console,Monaco,fixed,monospace; color: rgb(0, 0, 0); background-color: rgb(238, 238, 238); font-size: 12px; line-height: 14px; width: 100%;"><code>AuthType Basic<br />AuthName "Subversion Repository"<br />AuthUserFile /etc/apache2/dav_svn.passwd<br />Require valid-user<br /></code></pre>Creamos el fichero /etc/apache2/dav_svn.passwd con los usuarios a los que deseemos permitir el acceso a nuestro repositorio. Actuamos del siguiente modo:<br /><pre style="border: 1px dashed rgb(153, 153, 153); padding: 5px; overflow: auto; font-family: Andale Mono,Lucida Console,Monaco,fixed,monospace; color: rgb(0, 0, 0); background-color: rgb(238, 238, 238); font-size: 12px; line-height: 14px; width: 100%;"><code>htpasswd -cm /etc/apache2/dav_svn.passwd nombre_usuario<br /></code></pre>Se nos pedirá una contraseña para el usuario indicado.<br /><br />En este momento dispondremos de una configuración básica de nuestro servidor svn a través de http. Si queremos comprobar el correcto funcionamiento podemos irnos a nuestro navegador (Firefox por supuesto ;) e intentar acceder al repositorio:<br /><pre style="border: 1px dashed rgb(153, 153, 153); padding: 5px; overflow: auto; font-family: Andale Mono,Lucida Console,Monaco,fixed,monospace; color: rgb(0, 0, 0); background-color: rgb(238, 238, 238); font-size: 12px; line-height: 14px; width: 100%;"><code>http://maquina/repositorio/<br /></code></pre>Nos solicitará nuestro usuario y contraseña, y en caso de que las claves introducidas sean correctas, se nos mostrará un listado con todos los proyectos registrados en el repositorio.<br /><br />Tal y como os contaba en el post anterior establecer una configuración básico no es demasiado complicada. Espero que pueda serviros de utilidad.<br /><br />Hasta pronto!<br /><br />PD: en siguientes post cambiaremos un poquito de tema dejando a un lado la configuración de servidores. Hablaremos un poquito de Hibernate y puede que LINQ si tengo tiempo.<br /><br /><br /></div><div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/35092134-9148856808292826039?l=miguelinlas3.blogspot.com' alt='' /></div>
