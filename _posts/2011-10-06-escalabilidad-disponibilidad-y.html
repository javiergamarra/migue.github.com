--- 
layout: post
name: escalabilidad-disponibilidad-y
title: Escalabilidad, disponibilidad y estabilidad
time: 2011-10-06 23:47:00 +02:00
---
<div style="text-align: justify;">En algunas ocasiones hemos hablado de temas de escalabilidad y disponibilidad de sistemas aunque siempre desde un punto de vista muy práctico, haciendo referencia a los problemas que ocupan nuestro día a día.&nbsp;Me gustaría recopilar, a lo largo de una serie de posts, algunos de los patrones y/o tecnologías más populares relacionados con la escalabilidad, la concurrencia o la alta disponibilidad.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Me gustaría dejar claro desde un principio que lo aquí expuesto son simplemente mis ideas, adquiridas a lo largo del tiempo gracias a la experiencia acumulada en la construcción de diversos sistemas software, mis estudios de doctorado, leer y practicar mucho, aprender de los maestros y pasarme muchas, pero muchas muchas, &nbsp;horas aporreando el teclado. Por tanto, las cosas que aquí aparecen podrían ser erróneas y/o incompletas.<br /><br />Me gustaría comenzar con una tecnología relacionada con la concurrencia: la memoria transaccional (STM en adelante).<br /><br />Escribir programas concurrentes es una tarea sumamente complicada y, habitualmente, no determinista; ¿cuantas veces habremos probado un programa multihilo en nuestros sistemas de integración continua y , tras poner el sistema en producción, nos hemos encontrado con nuevos errores? Tan real como la vida misma.<br /><br />Habitualmente las inmutabilidad (hablaremos de ella en el futuro) es un gran aliado a la hora de escribir programas concurrentes dado que resulta mucho más sencillo razonar sobre información cuyo estado permanece estable. Sin embargo, como en la mayoría de las situaciones, la inmutabilidad no es una bala de plata que soluciona todos los problemas por lo que tendremos que lidiar con información cuyo estado puede variar y con toda la problemática asociada a la misma. Llegados a esta situación, y siguiendo con el enfoque con el que estamos más familiarizados, estaríamos peleándonos con bloqueos, granularidad de los mismos, etc.<br /><br /><b><u><span style="font-family: 'Trebuchet MS', sans-serif;">Un vistazo a la STM</span></u></b><br /><br />La STM puede ayudarnos a resolver el problema anterior de manera mucho más sencilla visualizando la memoria (heap + pila) como si de un dataset transaccional se tratara. Algunas de las características más relevantes:<br /><br /><ul><li>Concepto muy similar al de una base de datos tradicional. Se llevan a cabo operaciones como begin, commit o abort/rollback</li></ul><ul><li>En caso de que se produzca una colisión la transacción será relanzada de manera automática</li></ul><ul><li>Se realiza un proceso de rollback sobre la memoria cuando se produce una operación de abort.</li></ul><ul><li>Las transacciones se pueden componer y anidar</li></ul><br />Un aspecto sumamente importante que debemos tener en cuenta a la hora de utilizar la memoria transaccional es que todas las operaciones englobadas en el ámbito de una transacción deberán ser idempotentes (anteriormente hablábamos del relanzamiento automático en caso de que se produjera una colisión).<br /><br />Existen numerosas implementaciones disponibles para la máquina virtual de Java (JVM) entre las que destacan:<br /><br /><ul><li>Multiverse:&nbsp;<a href="http://multiverse.codehaus.org/overview.html">http://multiverse.codehaus.org/overview.html</a></li><li>Akka: <a href="http://akka.io/docs/akka-1.0/stm-java.html">http://akka.io/docs/akka-1.0/stm-java.html</a></li><li>Clojure STM:&nbsp;<a href="http://clojure.org/refs">http://clojure.org/refs</a></li><li>CCSTM:&nbsp;<a href="http://ppl.stanford.edu/ccstm/site/index.html">http://ppl.stanford.edu/ccstm/site/index.html</a></li><li>Deuce STM:&nbsp;<a href="https://sites.google.com/site/deucestm/">https://sites.google.com/site/deucestm/</a></li></ul><div>En la siguiente entrada realizaremos varios ejemplos prácticos de uso de la memoria transaccional y analizaremos cuales son los escenarios más propicios para la utilización de esta solución.</div><div><br /></div><div>Hasta pronto!</div><div><br /></div><div>Migue</div></div><div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/35092134-6852805106145706878?l=miguelinlas3.blogspot.com' alt='' /></div>
